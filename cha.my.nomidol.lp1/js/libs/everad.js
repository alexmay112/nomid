// еверад 4.01, с фиксом через cdn_path, для проверки на сервере

// для сингл диджит таймера - в боди добавить класс "timer-different"


// для клонирования блока в попап используются следующие айдишники
// #cloneThis - для десктопа
// #cloneMobileThis - для мобильного (если нужно)
//брейкпоинт для переключения попапа при необходимости дефолт значение = 1000

// в случае, если мы не клонируем форму, а верстаем попап произвольно,
// то делать это необходимо в контейнере с классом .ever-popup-build
// false (показывать контейнер) / true (не показывать контейнер)

var popupBuild = true; // false/true


//.ever-popup-btn - класс для для открытия попапа

//проверка кода
//.check__field - класс для поля проверки кода
//.check__btn - класс для кнопки провеки кода
//.check__result - класс для контейнера с результатом проверки кода

//таймер
//для вывода счетчика таймера используется 3 контенера (часы, минуты, секунды)
//.hours класс для вывода часов
//.minutes класс для вывода минут
//.seconds класс для вывода секунд

if(!window.cdn_path) {
    (function () {

        function initiate() {

            var breakpoint = 999,
                desktop = document.querySelector('#cloneThis'),
                mobile = document.querySelector('#cloneMobileThis');

            if (popupBuild) {
                // в случае, если мы верстаем попап в контейнере .ever-popup-build, даное условие прячет его, если значение переменной popupBuild = true
                var style = document.createElement('style');
                style.innerHTML = '.ever-popup-build{position: fixed; opacity: 0;z-index: -1; top: 0; left: -9999px;}';
                document.querySelector('head').appendChild(style)
            }

            function addPopupStyle() {
                // добавляем стили для нашего поапа
                var cont = document.createElement('style'),
                    head = document.querySelector('head');
                cont.innerHTML = '.ever-popup__body.ever-mobile{display:none}.ever-popup{position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,.7);z-index: 111;display: none;overflow: auto;}.ever-popup__body{position: static;float: none;display: block;margin: 0 auto;width:auto}.ever-popup.show{display: block;align-items: center;}.ever-popup__inner{position: relative;margin: 0 auto;padding-top:35px}.ever-popup__close{width: 35px;height: 30px;position: absolute;cursor:pointer;top: 0;right: 0;z-index: 1;-webkit-transition: .3s; -moz-transition: .3s; -ms-transition: .3s; -o-transition: .3s; transition: .3s;}.ever-popup__close:after, .ever-popup__close:before {content: "";position: absolute;right: 0;top: 10px;width: 35px;height: 10px;background: #fff;transition: all 1s;}.ever-popup__close:after {-webkit-transform: rotate(-45deg);-ms-transform: rotate(-45deg);-o-transform: rotate(-45deg);transform: rotate(-45deg);}.ever-popup__close:before {-webkit-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg);transform: rotate(45deg);}' +
                    '@media screen and (max-width: ' + breakpoint + 'px' + '){' +
                    '.ever-popup__body.ever-desktop{display:none}' +
                    '.ever-popup__body.ever-mobile{display:block}' +
                    '}';
                head.appendChild(cont)
            }

            function addMobilePopupStyle() {
                // добавляем стили для нашего поапа
                var cont = document.createElement('style'),
                    head = document.querySelector('head');
                cont.innerHTML = '@media screen and (max-width: ' + breakpoint + 'px' + ') {.ever-popup {position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0, 0, 0, .7);z-index: 111;display: none;overflow: auto;}.ever-popup__body {position: static;float: none;display: block;margin: 0 auto;width: auto}.ever-popup.show {display: block;align-items: center;}.ever-popup__inner {position: relative;margin: 0 auto;padding-top: 35px}.ever-popup__close {width: 35px;height: 30px;position: absolute;cursor: pointer;top: 0;right: 0;z-index: 1;-webkit-transition: .3s;-moz-transition: .3s;-ms-transition: .3s;-o-transition: .3s;transition: .3s;}.ever-popup__close:after, .ever-popup__close:before {content: "";position: absolute;right: 0;top: 10px;width: 35px;height: 10px;background: #fff;transition: all 1s;}.ever-popup__close:after {-webkit-transform: rotate(-45deg);-ms-transform: rotate(-45deg);-o-transform: rotate(-45deg);transform: rotate(-45deg);}.ever-popup__close:before {-webkit-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg);transform: rotate(45deg);}}';
                head.appendChild(cont)
            }

            function createOverlay() {
                // создаем затемненный фон для попапа и вставляем его в разметку html
                var parent = document.createElement('div'),
                    parentInner = document.createElement('div'),
                    closeParent = document.createElement('div');

                parent.classList.add('ever-popup');
                parentInner.classList.add('ever-popup__inner');
                closeParent.classList.add('ever-popup__close');

                parent.appendChild(parentInner);
                parentInner.appendChild(closeParent);
                document.body.appendChild(parent);
            }

            function createModalBody(breakpoint) {
                // функция определяет содержимое для попапа, клонирует его содержимое, и поещает в контейнер ever-popup__body
                var parent = document.querySelector('.ever-popup__inner');

                if (desktop) {
                    var desktopClone = desktop.cloneNode(true);
                    desktopClone.classList.add('ever-popup__body');
                    desktopClone.removeAttribute('id');
                    parent.appendChild(desktopClone);
                    document.querySelector('.ever-popup .ever-popup__inner').style.width = document.querySelector('#cloneThis').offsetWidth + 'px';
                }

                if (mobile) {
                    var mobileClone = mobile.cloneNode(true);
                    if (desktopClone) {
                        desktopClone.classList.add('ever-desktop');
                    }
                    mobileClone.classList.add('ever-popup__body');
                    mobileClone.classList.add('ever-mobile');
                    mobileClone.removeAttribute('id');
                    parent.appendChild(mobileClone);
                    var mobileStyles = '.ever-desktop{display: block}.ever-mobile{display: none}@media screen and (max-width: ' + breakpoint + 'px){.ever-mobile{display: block}.ever-desktop{display: none;}}';

                    var mobileStylesContainer = document.createElement('style');
                    mobileStylesContainer.innerHTML = mobileStyles;
                    document.querySelector('head').appendChild(mobileStylesContainer)
                    document.querySelector('.ever-popup .ever-popup__inner').style.width = document.querySelector('#cloneMobileThis').offsetWidth + 'px';
                    console.log(mobile.offsetWidth)
                }
            }

            function modalPosition(screenHeight) {
                //расчет ширины и вывод ее в html, функция вызывается при загрузке страницы, а так же при ресайзе
                var container = document.querySelector('.ever-popup  .ever-popup__inner');
                if (container) {

                    var desktop = document.querySelector('#cloneThis'),
                        mobile = document.querySelector('#cloneMobileThis');


                    if (desktop) {
                        checkPosition(desktop, container, screenHeight);
                        if (window.innerWidth >= breakpoint) {
                            container.style.width = desktop.offsetWidth + 'px';
                        }
                        if(!mobile){
                            container.style.width = desktop.offsetWidth + 'px';
                        }
                    }
                    if (mobile) {
                        checkPosition(mobile, container, screenHeight);
                        if (window.innerWidth <= breakpoint) {
                            container.style.width = mobile.offsetWidth + 'px';
                        }
                    }
                }
            }

            function checkPosition(selector, container, screenHeight) {
                //позиционирование попапа по вертикали

                var cont = selector,
                    contHeight = cont.offsetHeight;

                if (contHeight > screenHeight) {
                    container.style.margin = '40px auto';
                }
                else {
                    var top = (screenHeight - contHeight) / 2;
                    container.style.margin = top + 'px auto 20px';
                }
            }

            function showPopup() {
                //функция для показа попапа
                var popup = document.querySelector('.ever-popup');
                popup.classList.add('show')
            }

            function hidePopup() {
                //функция для скрытия попапа
                var popup = document.querySelector('.ever-popup');
                popup.classList.remove('show')
            }

            function notHide(e) {
                //функция для прерывания выполнения сценария по клику
                e.stopPropagation()
            }

            function checkCode(event) {
                // проверка кода подлинности
                event.preventDefault();

                var code = document.querySelector(".check__field").value,
                    msg = document.querySelector(".check__result");

                if (code.length === 15) {
                    msg.innerHTML = 'Данный код верен. Спасибо, что выбрали нашу продукцию!';
                }
                else if (code.length === 0) {
                    msg.innerHTML = 'Введите, пожалуйста, код.';
                } else {
                    msg.innerHTML = 'К сожалению, данный код не найден! Вероятнее всего, вы приобрели поддельный продукт.';
                }
            }

            var mouseOutCount = 0;
            document.body.addEventListener('mouseleave', function (event) {
                //событие на увод мышки со страницы. если мышка уходит за верхнюю границу документа, вызывается попап
                var e = event || window.event;
                e = e.clientY;
                var popup = document.querySelector('.ever-popup');

                if (popup && e < 10 && mouseOutCount === 0) {
                    popup.classList.add('show');
                    mouseOutCount++;
                }
            });

            function addPhoneBtn(breakpoint) {
                // добавление синей трубки для вызова попапа на десктопе
                var phoneBtnContainer = document.createElement('div');
                phoneBtnContainer.classList.add('phoneBtnContainer');
                phoneBtnContainer.innerHTML = '<div class="bluePhone"><div class=" phone-call cbh-phone cbh-green cbh-show ever-popup-btn cbh-static" id="clbh_phone_div"><div class="phoneJs"><div class="cbh-ph-circle"></div><div class="cbh-ph-circle-fill"></div><div class="cbh-ph-img-circle1"></div></div></div></div>';
                document.body.appendChild(phoneBtnContainer);

                var phoneStyles = document.createElement('style');
                phoneStyles.innerHTML = '.phoneBtnContainer{position:fixed; right: 10px;bottom: 10px; visibility:hidden;background-color:transparent;width:200px;height:200px;cursor:pointer;z-index:99;-webkit-backface-visibility:hidden;-webkit-transform:translateZ(0);-webkit-transition:visibility .5s;-moz-transition:visibility .5s;-o-transition:visibility .5s;transition:visibility .5s}.cbh-phone.cbh-show{visibility:visible}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);-ms-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}100%{opacity:1;-webkit-transform:none;-ms-transform:none;transform:none}}@-webkit-keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@-webkit-keyframes fadeOutRight{0%{opacity:1}100%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes fadeOutRight{0%{opacity:1}100%{opacity:0;-webkit-transform:translate3d(100%,0,0);-ms-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.fadeOutRight{-webkit-animation-name:fadeOutRight;animation-name:fadeOutRight}.cbh-phone.cbh-static1{opacity:.6}.cbh-phone.cbh-hover1{opacity:1}.cbh-ph-circle{width:160px;height:160px;top:20px;left:20px;position:absolute;background-color:transparent;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;border:2px solid rgba(30,30,30,.4);opacity:.1;-webkit-animation:cbh-circle-anim 1.2s infinite ease-in-out;-moz-animation:cbh-circle-anim 1.2s infinite ease-in-out;-ms-animation:cbh-circle-anim 1.2s infinite ease-in-out;-o-animation:cbh-circle-anim 1.2s infinite ease-in-out;animation:cbh-circle-anim 1.2s infinite ease-in-out;-webkit-transition:all .5s;-moz-transition:all .5s;-o-transition:all .5s;transition:all .5s}.cbh-phone.cbh-active .cbh-ph-circle1{-webkit-animation:cbh-circle-anim 1.1s infinite ease-in-out!important;-moz-animation:cbh-circle-anim 1.1s infinite ease-in-out!important;-ms-animation:cbh-circle-anim 1.1s infinite ease-in-out!important;-o-animation:cbh-circle-anim 1.1s infinite ease-in-out!important;animation:cbh-circle-anim 1.1s infinite ease-in-out!important}.cbh-phone.cbh-static .cbh-ph-circle{-webkit-animation:cbh-circle-anim 2.2s infinite ease-in-out!important;-moz-animation:cbh-circle-anim 2.2s infinite ease-in-out!important;-ms-animation:cbh-circle-anim 2.2s infinite ease-in-out!important;-o-animation:cbh-circle-anim 2.2s infinite ease-in-out!important;animation:cbh-circle-anim 2.2s infinite ease-in-out!important}.cbh-phone.cbh-hover .cbh-ph-circle{border-color:rgba(0,175,242,1);opacity:.5}.cbh-phone.cbh-green.cbh-hover .cbh-ph-circle{border-color:rgba(117,235,80,1);opacity:.5}.cbh-phone.cbh-green .cbh-ph-circle{border-color:rgba(0,175,242,1);opacity:.5}.cbh-phone.cbh-gray.cbh-hover .cbh-ph-circle{border-color:rgba(204,204,204,1);opacity:.5}.cbh-phone.cbh-gray .cbh-ph-circle{border-color:rgba(117,235,80,1);opacity:.5}.cbh-ph-circle-fill{width:100px;height:100px;top:50px;left:50px;position:absolute;background-color:#000;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;border:2px solid transparent;opacity:.1;-webkit-animation:cbh-circle-fill-anim 2.3s infinite ease-in-out;-moz-animation:cbh-circle-fill-anim 2.3s infinite ease-in-out;-ms-animation:cbh-circle-fill-anim 2.3s infinite ease-in-out;-o-animation:cbh-circle-fill-anim 2.3s infinite ease-in-out;animation:cbh-circle-fill-anim 2.3s infinite ease-in-out;-webkit-transition:all .5s;-moz-transition:all .5s;-o-transition:all .5s;transition:all .5s}.cbh-phone.cbh-active .cbh-ph-circle-fill{-webkit-animation:cbh-circle-fill-anim 1.7s infinite ease-in-out!important;-moz-animation:cbh-circle-fill-anim 1.7s infinite ease-in-out!important;-ms-animation:cbh-circle-fill-anim 1.7s infinite ease-in-out!important;-o-animation:cbh-circle-fill-anim 1.7s infinite ease-in-out!important;animation:cbh-circle-fill-anim 1.7s infinite ease-in-out!important}.cbh-phone.cbh-static .cbh-ph-circle-fill{-webkit-animation:cbh-circle-fill-anim 2.3s infinite ease-in-out!important;-moz-animation:cbh-circle-fill-anim 2.3s infinite ease-in-out!important;-ms-animation:cbh-circle-fill-anim 2.3s infinite ease-in-out!important;-o-animation:cbh-circle-fill-anim 2.3s infinite ease-in-out!important;animation:cbh-circle-fill-anim 2.3s infinite ease-in-out!important;opacity:0!important} .cbh-phone.cbh-hover .cbh-ph-circle-fill{background-color:rgba(0,175,242,.5);opacity:.75!important}.cbh-phone.cbh-green.cbh-hover .cbh-ph-circle-fill{background-color:rgba(117,235,80,.5);opacity:.75!important}.cbh-phone.cbh-green .cbh-ph-circle-fill{background-color:rgba(0,175,242,.5);opacity:.75!important}.cbh-phone.cbh-gray.cbh-hover .cbh-ph-circle-fill{background-color:rgba(204,204,204,.5);opacity:.75!important}.cbh-phone.cbh-gray .cbh-ph-circle-fill{background-color:rgba(117,235,80,.5);opacity:.75!important}.cbh-ph-img-circle1{width:60px;height:60px;top:70px;left:70px;position:absolute;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAAB/ElEQVR42uya7W3CMBCG31QM4A1aNggTlG6QbpBMkHYC1AloJ4BOABuEDcgGtBOETnD9c1ERCH/lwxeaV8oPFGP86Hy+DxMREW5Bd7gRjSDSNGn4/RiAOvm8C0ZCRD5PSkQVXSr1nK/xE3mcWimA1ZV3JYBZCIO4giQANoYxMwYS6+xKY4lT5dJPreWZY+uspqSCKPYN27GJVBDXheVSQe494ksiEWTuMXcu1dld9SARxDX1OAJ4lgjy4zDnFsC076A4adEiRwAZg4hOUSpNoCsBPDGM+HqkNGynYBCuILuWj+dgWysGsNe8nwL4GsrW0m2fxZBq9rW0rNcX5MOQ9eZD8JFahcG5g/iKT671alGAYQggpYWvpEPYWrU/HDTOfeRIX0q2SL3QN4tGhZJukVobQyXYWw7WtLDKDIuM+ZSzscyCE9PCy5IttCvnZNaeiGLNHKuz8ZVh/MXTVu/1xQKmIqLEAuJ0fNo3iG5B51oSkeKnsBi/4bG9gYB/lCytU5G9DryFW+3Gm+JLwU7ehbJrwTjq4DJU8bHcVbEV9dXXqqP6uqO5e2/QZRYJpqu2IUAA4B3tXvx8hgKp05QZW6dJqrLTNkB6vrRURLRwPHqtYgkC3cLWQAcDQGGKH13FER/NATzi786+BPDNjm1dMkfjn2pGkBHkf4D8DgBJDuDHx9BN+gAAAABJRU5ErkJggg==);background-color:rgba(30,30,30,.1);background-position:center center;background-repeat:no-repeat;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;border:2px solid transparent;opacity:.7;-webkit-animation:cbh-circle-img-anim 1s infinite ease-in-out;-moz-animation:cbh-circle-img-anim 1s infinite ease-in-out;-ms-animation:cbh-circle-img-anim 1s infinite ease-in-out;-o-animation:cbh-circle-img-anim 1s infinite ease-in-out;animation:cbh-circle-img-anim 1s infinite ease-in-out}.cbh-phone.cbh-active .cbh-ph-img-circle1{-webkit-animation:cbh-circle-img-anim 1s infinite ease-in-out!important;-moz-animation:cbh-circle-img-anim 1s infinite ease-in-out!important;-ms-animation:cbh-circle-img-anim 1s infinite ease-in-out!important;-o-animation:cbh-circle-img-anim 1s infinite ease-in-out!important;animation:cbh-circle-img-anim 1s infinite ease-in-out!important}.cbh-phone.cbh-static .cbh-ph-img-circle1{-webkit-animation:cbh-circle-img-anim 0s infinite ease-in-out!important;-moz-animation:cbh-circle-img-anim 0s infinite ease-in-out!important;-ms-animation:cbh-circle-img-anim 0s infinite ease-in-out!important;-o-animation:cbh-circle-img-anim 0s infinite ease-in-out!important;animation:cbh-circle-img-anim 0s infinite ease-in-out!important}.cbh-phone.cbh-hover .cbh-ph-img-circle1{background-color:rgba(0,175,242,1)}.cbh-phone.cbh-green.cbh-hover .cbh-ph-img-circle1:hover{background-color:rgba(117,235,80,1)}.cbh-phone.cbh-green .cbh-ph-img-circle1{background-color:rgba(0,175,242,1)}.cbh-phone.cbh-green .cbh-ph-img-circle1{background-color:rgba(0,175,242,1)}.cbh-phone.cbh-gray.cbh-hover .cbh-ph-img-circle1{background-color:rgba(204,204,204,1)}.cbh-phone.cbh-gray .cbh-ph-img-circle1{background-color:rgba(117,235,80,1)}@-moz-keyframes cbh-circle-anim{0%{-moz-transform:rotate(0deg) scale(0.5) skew(1deg);opacity:.1;-moz-opacity:.1;-webkit-opacity:.1;-o-opacity:.1}30%{-moz-transform:rotate(0deg) scale(.7) skew(1deg);opacity:.5;-moz-opacity:.5;-webkit-opacity:.5;-o-opacity:.5}100%{-moz-transform:rotate(0deg) scale(1) skew(1deg);opacity:.6;-moz-opacity:.6;-webkit-opacity:.6;-o-opacity:.1}}@-webkit-keyframes cbh-circle-anim{0%{-webkit-transform:rotate(0deg) scale(0.5) skew(1deg);-webkit-opacity:.1}30%{-webkit-transform:rotate(0deg) scale(.7) skew(1deg);-webkit-opacity:.5}100%{-webkit-transform:rotate(0deg) scale(1) skew(1deg);-webkit-opacity:.1}}@-o-keyframes cbh-circle-anim{0%{-o-transform:rotate(0deg) kscale(0.5) skew(1deg);-o-opacity:.1}30%{-o-transform:rotate(0deg) scale(.7) skew(1deg);-o-opacity:.5}100%{-o-transform:rotate(0deg) scale(1) skew(1deg);-o-opacity:.1}}@keyframes cbh-circle-anim{0%{transform:rotate(0deg) scale(0.5) skew(1deg);opacity:.1}30%{transform:rotate(0deg) scale(.7) skew(1deg);opacity:.5}100%{transform:rotate(0deg) scale(1) skew(1deg);opacity:.1}}@-moz-keyframes cbh-circle-fill-anim{0%{-moz-transform:rotate(0deg) scale(0.7) skew(1deg);opacity:.2}50%{-moz-transform:rotate(0deg) -moz-scale(1) skew(1deg);opacity:.2}100%{-moz-transform:rotate(0deg) scale(0.7) skew(1deg);opacity:.2}}@-webkit-keyframes cbh-circle-fill-anim{0%{-webkit-transform:rotate(0deg) scale(0.7) skew(1deg);opacity:.2}50%{-webkit-transform:rotate(0deg) scale(1) skew(1deg);opacity:.2}100%{-webkit-transform:rotate(0deg) scale(0.7) skew(1deg);opacity:.2}}@-o-keyframes cbh-circle-fill-anim{0%{-o-transform:rotate(0deg) scale(0.7) skew(1deg);opacity:.2}50%{-o-transform:rotate(0deg) scale(1) skew(1deg);opacity:.2}100%{-o-transform:rotate(0deg) scale(0.7) skew(1deg);opacity:.2}}@keyframes cbh-circle-fill-anim{0%{transform:rotate(0deg) scale(0.7) skew(1deg);opacity:.2}50%{transform:rotate(0deg) scale(1) skew(1deg);opacity:.2}100%{transform:rotate(0deg) scale(0.7) skew(1deg);opacity:.2}}@keyframes cbh-circle-img-anim{0%{transform:rotate(0deg) scale(1) skew(1deg)}10%{transform:rotate(-25deg) scale(1) skew(1deg)}20%{transform:rotate(25deg) scale(1) skew(1deg)}30%{transform:rotate(-25deg) scale(1) skew(1deg)}40%{transform:rotate(25deg) scale(1) skew(1deg)}100%,50%{transform:rotate(0deg) scale(1) skew(1deg)}}@-moz-keyframes cbh-circle-img-anim{0%{transform:rotate(0deg) scale(1) skew(1deg)}10%{-moz-transform:rotate(-25deg) scale(1) skew(1deg)}20%{-moz-transform:rotate(25deg) scale(1) skew(1deg)}30%{-moz-transform:rotate(-25deg) scale(1) skew(1deg)}40%{-moz-transform:rotate(25deg) scale(1) skew(1deg)}100%,50%{-moz-transform:rotate(0deg) scale(1) skew(1deg)}}@-webkit-keyframes cbh-circle-img-anim{0%{-webkit-transform:rotate(0deg) scale(1) skew(1deg)}10%{-webkit-transform:rotate(-25deg) scale(1) skew(1deg)}20%{-webkit-transform:rotate(25deg) scale(1) skew(1deg)}30%{-webkit-transform:rotate(-25deg) scale(1) skew(1deg)}40%{-webkit-transform:rotate(25deg) scale(1) skew(1deg)}100%,50%{-webkit-transform:rotate(0deg) scale(1) skew(1deg)}}@-o-keyframes cbh-circle-img-anim{0%{-o-transform:rotate(0deg) scale(1) skew(1deg)}10%{-o-transform:rotate(-25deg) scale(1) skew(1deg)}20%{-o-transform:rotate(25deg) scale(1) skew(1deg)}30%{-o-transform:rotate(-25deg) scale(1) skew(1deg)}40%{-o-transform:rotate(25deg) scale(1) skew(1deg)}100%,50%{-o-transform:rotate(0deg) scale(1) skew(1deg)}}.cbh-ph-img-circle1 {}.cbh-phone.cbh-green .cbh-ph-circle {border-color: rgba(0, 175, 242, 1)}.cbh-phone.cbh-green .cbh-ph-circle-fill {background-color: rgba(0, 175, 242, 1);}.cbh-phone.cbh-green .cbh-ph-img-circle1 {background-color:rgba(0, 175, 242, 1);}body, div, dl, dt, dd, ul, ol, li, nav, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, button, textarea, p, blockquote, th, td, a {-webkit-transform-origin: center center;-ms-transform-origin: center center;-o-transform-origin: center center;transform-origin: center center;}@media screen and (max-width: ' + breakpoint + 'px) {#clbh_phone_div{display: none !important;}}';
                document.querySelector('head').appendChild(phoneStyles)
            }

            function init() {

                var desktopPopup = document.querySelector('#cloneThis'),
                    mobilePopup = document.querySelector('#cloneMobileThis');

                var h = document.querySelector('.hours'),
                    m = document.querySelector('.minutes'),
                    s = document.querySelector('.seconds');

                if (h && m && s) {
                    // если все значения (часы/минуты/секунды) сущесвтуют, тогда срабатывает таймер
                    initializeTimer();
                }
                if (desktopPopup) {
                    createOverlay();
                    addPopupStyle();
                    addPhoneBtn(breakpoint);
                    document.querySelector('.phoneBtnContainer').addEventListener('click', showPopup);
                }
                else {
                    createOverlay();
                    addMobilePopupStyle()
                }
                if (desktopPopup || mobilePopup) {
                    //если у нас есть #cloneThis или #cloneMobileThis, тогда все функции ниже выполняются

                    createModalBody(breakpoint);
                    modalPosition(window.innerHeight);
                    document.querySelector('.ever-popup__close').addEventListener('click', hidePopup);
                    document.querySelector('.ever-popup__inner').addEventListener('click', notHide);
                    document.querySelector('.ever-popup').addEventListener('click', hidePopup);

                    var modalBtn = document.querySelectorAll('.ever-popup-btn');
                    for (var i = 0; i < modalBtn.length; i++) {
                        modalBtn && modalBtn[i].addEventListener('click', showPopup);
                    }
                }
                // рабоатет если у нас есть класс .check__btn
                var checkBtn = document.querySelector(".check__btn");
                checkBtn && checkBtn.addEventListener('click', checkCode);
            }

            // при документ реди вызывается функция init, описаная выше
            document.addEventListener('DOMContentLoaded', init);

            window.addEventListener('resize', function () {
                //при ресайзе пересчитываем позиционирование модального окна
                modalPosition(window.innerHeight);
            });

            function initializeTimer() {

                if (!localStorage.getItem("ever-timer")) {
                    var time = {
                        hours: 0,
                        minutes: 27,
                        seconds: 0
                    };

                    time = time.hours * 3600 + time.minutes * 60 + time.seconds;

                    localStorage.setItem("time", time);
                    localStorage.setItem("ever-timer", true);
                }

                timerSettings();

            }

            function timerSettings() {
                var time = localStorage.getItem('time'),
                    different = document.querySelector(".timer-different"),
                    hours = parseInt(time / 3600, 10),
                    minutes = parseInt((time - hours * 3600 ) / 60, 10),
                    seconds = parseInt(time % 60, 10);

                minutes = minutes < 10 ? "0" + minutes : "" + minutes;
                seconds = seconds < 10 ? "0" + seconds : "" + seconds;
                hours = hours < 10 ? "0" + hours : "" + hours;

                var hoursHTML = document.getElementsByClassName("hours");
                var minutesHTML = document.getElementsByClassName("minutes");
                var secondsHTML = document.getElementsByClassName("seconds");

                if (--time < 0) {
                    localStorage.removeItem("ever-timer");
                    return;
                }
                if (different) {
                    seconds = seconds.split("");
                    minutes = minutes.split("");
                    hours = hours.split("");

                    diFilling(hoursHTML, hours);
                    diFilling(minutesHTML, minutes);
                    diFilling(secondsHTML, seconds);
                } else {
                    filling(hoursHTML, hours);
                    filling(minutesHTML, minutes);
                    filling(secondsHTML, seconds);
                }

                localStorage.setItem("time", time);
                setTimeout(timerSettings, 1000);
            }

            function filling(obj, value) {
                for (var i = 0; i < obj.length; i++) {
                    obj[i].innerHTML = value;
                }
            }

            function diFilling(obj, value) {
                for (var i = 0; i < obj.length; i++) {
                    obj[i].innerHTML = value[i % 2];
                }
            }
        }

        initiate();

    })();
}


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJsaWJzL2V2ZXJhZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDQtdCy0LXRgNCw0LQgNC4wMSwg0YEg0YTQuNC60YHQvtC8INGH0LXRgNC10LcgY2RuX3BhdGgsINC00LvRjyDQv9GA0L7QstC10YDQutC4INC90LAg0YHQtdGA0LLQtdGA0LVcblxuLy8g0LTQu9GPINGB0LjQvdCz0Lsg0LTQuNC00LbQuNGCINGC0LDQudC80LXRgNCwIC0g0LIg0LHQvtC00Lgg0LTQvtCx0LDQstC40YLRjCDQutC70LDRgdGBIFwidGltZXItZGlmZmVyZW50XCJcblxuXG4vLyDQtNC70Y8g0LrQu9C+0L3QuNGA0L7QstCw0L3QuNGPINCx0LvQvtC60LAg0LIg0L/QvtC/0LDQvyDQuNGB0L/QvtC70YzQt9GD0Y7RgtGB0Y8g0YHQu9C10LTRg9GO0YnQuNC1INCw0LnQtNC40YjQvdC40LrQuFxuLy8gI2Nsb25lVGhpcyAtINC00LvRjyDQtNC10YHQutGC0L7Qv9CwXG4vLyAjY2xvbmVNb2JpbGVUaGlzIC0g0LTQu9GPINC80L7QsdC40LvRjNC90L7Qs9C+ICjQtdGB0LvQuCDQvdGD0LbQvdC+KVxuLy/QsdGA0LXQudC60L/QvtC40L3RgiDQtNC70Y8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINC/0L7Qv9Cw0L/QsCDQv9GA0Lgg0L3QtdC+0LHRhdC+0LTQuNC80L7RgdGC0Lgg0LTQtdGE0L7Qu9GCINC30L3QsNGH0LXQvdC40LUgPSAxMDAwXG5cbi8vINCyINGB0LvRg9GH0LDQtSwg0LXRgdC70Lgg0LzRiyDQvdC1INC60LvQvtC90LjRgNGD0LXQvCDRhNC+0YDQvNGDLCDQsCDQstC10YDRgdGC0LDQtdC8INC/0L7Qv9Cw0L8g0L/RgNC+0LjQt9Cy0L7Qu9GM0L3Qvixcbi8vINGC0L4g0LTQtdC70LDRgtGMINGN0YLQviDQvdC10L7QsdGF0L7QtNC40LzQviDQsiDQutC+0L3RgtC10LnQvdC10YDQtSDRgSDQutC70LDRgdGB0L7QvCAuZXZlci1wb3B1cC1idWlsZFxuLy8gZmFsc2UgKNC/0L7QutCw0LfRi9Cy0LDRgtGMINC60L7QvdGC0LXQudC90LXRgCkgLyB0cnVlICjQvdC1INC/0L7QutCw0LfRi9Cy0LDRgtGMINC60L7QvdGC0LXQudC90LXRgClcblxudmFyIHBvcHVwQnVpbGQgPSB0cnVlOyAvLyBmYWxzZS90cnVlXG5cblxuLy8uZXZlci1wb3B1cC1idG4gLSDQutC70LDRgdGBINC00LvRjyDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcblxuLy/Qv9GA0L7QstC10YDQutCwINC60L7QtNCwXG4vLy5jaGVja19fZmllbGQgLSDQutC70LDRgdGBINC00LvRjyDQv9C+0LvRjyDQv9GA0L7QstC10YDQutC4INC60L7QtNCwXG4vLy5jaGVja19fYnRuIC0g0LrQu9Cw0YHRgSDQtNC70Y8g0LrQvdC+0L/QutC4INC/0YDQvtCy0LXQutC4INC60L7QtNCwXG4vLy5jaGVja19fcmVzdWx0IC0g0LrQu9Cw0YHRgSDQtNC70Y8g0LrQvtC90YLQtdC50L3QtdGA0LAg0YEg0YDQtdC30YPQu9GM0YLQsNGC0L7QvCDQv9GA0L7QstC10YDQutC4INC60L7QtNCwXG5cbi8v0YLQsNC50LzQtdGAXG4vL9C00LvRjyDQstGL0LLQvtC00LAg0YHRh9C10YLRh9C40LrQsCDRgtCw0LnQvNC10YDQsCDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8gMyDQutC+0L3RgtC10L3QtdGA0LAgKNGH0LDRgdGLLCDQvNC40L3Rg9GC0YssINGB0LXQutGD0L3QtNGLKVxuLy8uaG91cnMg0LrQu9Cw0YHRgSDQtNC70Y8g0LLRi9Cy0L7QtNCwINGH0LDRgdC+0LJcbi8vLm1pbnV0ZXMg0LrQu9Cw0YHRgSDQtNC70Y8g0LLRi9Cy0L7QtNCwINC80LjQvdGD0YJcbi8vLnNlY29uZHMg0LrQu9Cw0YHRgSDQtNC70Y8g0LLRi9Cy0L7QtNCwINGB0LXQutGD0L3QtFxuXG5pZighd2luZG93LmNkbl9wYXRoKSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBmdW5jdGlvbiBpbml0aWF0ZSgpIHtcblxuICAgICAgICAgICAgdmFyIGJyZWFrcG9pbnQgPSA5OTksXG4gICAgICAgICAgICAgICAgZGVza3RvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbG9uZVRoaXMnKSxcbiAgICAgICAgICAgICAgICBtb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvbmVNb2JpbGVUaGlzJyk7XG5cbiAgICAgICAgICAgIGlmIChwb3B1cEJ1aWxkKSB7XG4gICAgICAgICAgICAgICAgLy8g0LIg0YHQu9GD0YfQsNC1LCDQtdGB0LvQuCDQvNGLINCy0LXRgNGB0YLQsNC10Lwg0L/QvtC/0LDQvyDQsiDQutC+0L3RgtC10LnQvdC10YDQtSAuZXZlci1wb3B1cC1idWlsZCwg0LTQsNC90L7QtSDRg9GB0LvQvtCy0LjQtSDQv9GA0Y/Rh9C10YIg0LXQs9C+LCDQtdGB0LvQuCDQt9C90LDRh9C10L3QuNC1INC/0LXRgNC10LzQtdC90L3QvtC5IHBvcHVwQnVpbGQgPSB0cnVlXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBzdHlsZS5pbm5lckhUTUwgPSAnLmV2ZXItcG9wdXAtYnVpbGR7cG9zaXRpb246IGZpeGVkOyBvcGFjaXR5OiAwO3otaW5kZXg6IC0xOyB0b3A6IDA7IGxlZnQ6IC05OTk5cHg7fSc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpLmFwcGVuZENoaWxkKHN0eWxlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRQb3B1cFN0eWxlKCkge1xuICAgICAgICAgICAgICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDRgdGC0LjQu9C4INC00LvRjyDQvdCw0YjQtdCz0L4g0L/QvtCw0L/QsFxuICAgICAgICAgICAgICAgIHZhciBjb250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWQnKTtcbiAgICAgICAgICAgICAgICBjb250LmlubmVySFRNTCA9ICcuZXZlci1wb3B1cF9fYm9keS5ldmVyLW1vYmlsZXtkaXNwbGF5Om5vbmV9LmV2ZXItcG9wdXB7cG9zaXRpb246IGZpeGVkO3RvcDogMDtsZWZ0OiAwO3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTtiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC43KTt6LWluZGV4OiAxMTE7ZGlzcGxheTogbm9uZTtvdmVyZmxvdzogYXV0bzt9LmV2ZXItcG9wdXBfX2JvZHl7cG9zaXRpb246IHN0YXRpYztmbG9hdDogbm9uZTtkaXNwbGF5OiBibG9jazttYXJnaW46IDAgYXV0bzt3aWR0aDphdXRvfS5ldmVyLXBvcHVwLnNob3d7ZGlzcGxheTogYmxvY2s7YWxpZ24taXRlbXM6IGNlbnRlcjt9LmV2ZXItcG9wdXBfX2lubmVye3Bvc2l0aW9uOiByZWxhdGl2ZTttYXJnaW46IDAgYXV0bztwYWRkaW5nLXRvcDozNXB4fS5ldmVyLXBvcHVwX19jbG9zZXt3aWR0aDogMzVweDtoZWlnaHQ6IDMwcHg7cG9zaXRpb246IGFic29sdXRlO2N1cnNvcjpwb2ludGVyO3RvcDogMDtyaWdodDogMDt6LWluZGV4OiAxOy13ZWJraXQtdHJhbnNpdGlvbjogLjNzOyAtbW96LXRyYW5zaXRpb246IC4zczsgLW1zLXRyYW5zaXRpb246IC4zczsgLW8tdHJhbnNpdGlvbjogLjNzOyB0cmFuc2l0aW9uOiAuM3M7fS5ldmVyLXBvcHVwX19jbG9zZTphZnRlciwgLmV2ZXItcG9wdXBfX2Nsb3NlOmJlZm9yZSB7Y29udGVudDogXCJcIjtwb3NpdGlvbjogYWJzb2x1dGU7cmlnaHQ6IDA7dG9wOiAxMHB4O3dpZHRoOiAzNXB4O2hlaWdodDogMTBweDtiYWNrZ3JvdW5kOiAjZmZmO3RyYW5zaXRpb246IGFsbCAxczt9LmV2ZXItcG9wdXBfX2Nsb3NlOmFmdGVyIHstd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7LW1zLXRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7LW8tdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO30uZXZlci1wb3B1cF9fY2xvc2U6YmVmb3JlIHstd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTstbXMtdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOy1vLXRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7fScgK1xuICAgICAgICAgICAgICAgICAgICAnQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogJyArIGJyZWFrcG9pbnQgKyAncHgnICsgJyl7JyArXG4gICAgICAgICAgICAgICAgICAgICcuZXZlci1wb3B1cF9fYm9keS5ldmVyLWRlc2t0b3B7ZGlzcGxheTpub25lfScgK1xuICAgICAgICAgICAgICAgICAgICAnLmV2ZXItcG9wdXBfX2JvZHkuZXZlci1tb2JpbGV7ZGlzcGxheTpibG9ja30nICtcbiAgICAgICAgICAgICAgICAgICAgJ30nO1xuICAgICAgICAgICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoY29udClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gYWRkTW9iaWxlUG9wdXBTdHlsZSgpIHtcbiAgICAgICAgICAgICAgICAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0YHRgtC40LvQuCDQtNC70Y8g0L3QsNGI0LXQs9C+INC/0L7QsNC/0LBcbiAgICAgICAgICAgICAgICB2YXIgY29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyksXG4gICAgICAgICAgICAgICAgICAgIGhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkJyk7XG4gICAgICAgICAgICAgICAgY29udC5pbm5lckhUTUwgPSAnQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogJyArIGJyZWFrcG9pbnQgKyAncHgnICsgJykgey5ldmVyLXBvcHVwIHtwb3NpdGlvbjogZml4ZWQ7dG9wOiAwO2xlZnQ6IDA7d2lkdGg6IDEwMCU7aGVpZ2h0OiAxMDAlO2JhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjcpO3otaW5kZXg6IDExMTtkaXNwbGF5OiBub25lO292ZXJmbG93OiBhdXRvO30uZXZlci1wb3B1cF9fYm9keSB7cG9zaXRpb246IHN0YXRpYztmbG9hdDogbm9uZTtkaXNwbGF5OiBibG9jazttYXJnaW46IDAgYXV0bzt3aWR0aDogYXV0b30uZXZlci1wb3B1cC5zaG93IHtkaXNwbGF5OiBibG9jazthbGlnbi1pdGVtczogY2VudGVyO30uZXZlci1wb3B1cF9faW5uZXIge3Bvc2l0aW9uOiByZWxhdGl2ZTttYXJnaW46IDAgYXV0bztwYWRkaW5nLXRvcDogMzVweH0uZXZlci1wb3B1cF9fY2xvc2Uge3dpZHRoOiAzNXB4O2hlaWdodDogMzBweDtwb3NpdGlvbjogYWJzb2x1dGU7Y3Vyc29yOiBwb2ludGVyO3RvcDogMDtyaWdodDogMDt6LWluZGV4OiAxOy13ZWJraXQtdHJhbnNpdGlvbjogLjNzOy1tb3otdHJhbnNpdGlvbjogLjNzOy1tcy10cmFuc2l0aW9uOiAuM3M7LW8tdHJhbnNpdGlvbjogLjNzO3RyYW5zaXRpb246IC4zczt9LmV2ZXItcG9wdXBfX2Nsb3NlOmFmdGVyLCAuZXZlci1wb3B1cF9fY2xvc2U6YmVmb3JlIHtjb250ZW50OiBcIlwiO3Bvc2l0aW9uOiBhYnNvbHV0ZTtyaWdodDogMDt0b3A6IDEwcHg7d2lkdGg6IDM1cHg7aGVpZ2h0OiAxMHB4O2JhY2tncm91bmQ6ICNmZmY7dHJhbnNpdGlvbjogYWxsIDFzO30uZXZlci1wb3B1cF9fY2xvc2U6YWZ0ZXIgey13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTstbXMtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTstby10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7fS5ldmVyLXBvcHVwX19jbG9zZTpiZWZvcmUgey13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOy1tcy10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7LW8tdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTt9fSc7XG4gICAgICAgICAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChjb250KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVPdmVybGF5KCkge1xuICAgICAgICAgICAgICAgIC8vINGB0L7Qt9C00LDQtdC8INC30LDRgtC10LzQvdC10L3QvdGL0Lkg0YTQvtC9INC00LvRjyDQv9C+0L/QsNC/0LAg0Lgg0LLRgdGC0LDQstC70Y/QtdC8INC10LPQviDQsiDRgNCw0LfQvNC10YLQutGDIGh0bWxcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudElubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnZXZlci1wb3B1cCcpO1xuICAgICAgICAgICAgICAgIHBhcmVudElubmVyLmNsYXNzTGlzdC5hZGQoJ2V2ZXItcG9wdXBfX2lubmVyJyk7XG4gICAgICAgICAgICAgICAgY2xvc2VQYXJlbnQuY2xhc3NMaXN0LmFkZCgnZXZlci1wb3B1cF9fY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChwYXJlbnRJbm5lcik7XG4gICAgICAgICAgICAgICAgcGFyZW50SW5uZXIuYXBwZW5kQ2hpbGQoY2xvc2VQYXJlbnQpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFyZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlTW9kYWxCb2R5KGJyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAvLyDRhNGD0L3QutGG0LjRjyDQvtC/0YDQtdC00LXQu9GP0LXRgiDRgdC+0LTQtdGA0LbQuNC80L7QtSDQtNC70Y8g0L/QvtC/0LDQv9CwLCDQutC70L7QvdC40YDRg9C10YIg0LXQs9C+INGB0L7QtNC10YDQttC40LzQvtC1LCDQuCDQv9C+0LXRidCw0LXRgiDQsiDQutC+0L3RgtC10LnQvdC10YAgZXZlci1wb3B1cF9fYm9keVxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXZlci1wb3B1cF9faW5uZXInKTtcblxuICAgICAgICAgICAgICAgIGlmIChkZXNrdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXNrdG9wQ2xvbmUgPSBkZXNrdG9wLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgZGVza3RvcENsb25lLmNsYXNzTGlzdC5hZGQoJ2V2ZXItcG9wdXBfX2JvZHknKTtcbiAgICAgICAgICAgICAgICAgICAgZGVza3RvcENsb25lLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGRlc2t0b3BDbG9uZSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ldmVyLXBvcHVwIC5ldmVyLXBvcHVwX19pbm5lcicpLnN0eWxlLndpZHRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb25lVGhpcycpLm9mZnNldFdpZHRoICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2JpbGVDbG9uZSA9IG1vYmlsZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXNrdG9wQ2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2t0b3BDbG9uZS5jbGFzc0xpc3QuYWRkKCdldmVyLWRlc2t0b3AnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtb2JpbGVDbG9uZS5jbGFzc0xpc3QuYWRkKCdldmVyLXBvcHVwX19ib2R5Jyk7XG4gICAgICAgICAgICAgICAgICAgIG1vYmlsZUNsb25lLmNsYXNzTGlzdC5hZGQoJ2V2ZXItbW9iaWxlJyk7XG4gICAgICAgICAgICAgICAgICAgIG1vYmlsZUNsb25lLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKG1vYmlsZUNsb25lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vYmlsZVN0eWxlcyA9ICcuZXZlci1kZXNrdG9we2Rpc3BsYXk6IGJsb2NrfS5ldmVyLW1vYmlsZXtkaXNwbGF5OiBub25lfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ICcgKyBicmVha3BvaW50ICsgJ3B4KXsuZXZlci1tb2JpbGV7ZGlzcGxheTogYmxvY2t9LmV2ZXItZGVza3RvcHtkaXNwbGF5OiBub25lO319JztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9iaWxlU3R5bGVzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgbW9iaWxlU3R5bGVzQ29udGFpbmVyLmlubmVySFRNTCA9IG1vYmlsZVN0eWxlcztcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpLmFwcGVuZENoaWxkKG1vYmlsZVN0eWxlc0NvbnRhaW5lcilcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV2ZXItcG9wdXAgLmV2ZXItcG9wdXBfX2lubmVyJykuc3R5bGUud2lkdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvbmVNb2JpbGVUaGlzJykub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtb2JpbGUub2Zmc2V0V2lkdGgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBtb2RhbFBvc2l0aW9uKHNjcmVlbkhlaWdodCkge1xuICAgICAgICAgICAgICAgIC8v0YDQsNGB0YfQtdGCINGI0LjRgNC40L3RiyDQuCDQstGL0LLQvtC0INC10LUg0LIgaHRtbCwg0YTRg9C90LrRhtC40Y8g0LLRi9C30YvQstCw0LXRgtGB0Y8g0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YHRgtGA0LDQvdC40YbRiywg0LAg0YLQsNC6INC20LUg0L/RgNC4INGA0LXRgdCw0LnQt9C1XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ldmVyLXBvcHVwICAuZXZlci1wb3B1cF9faW5uZXInKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvbmVUaGlzJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvbmVNb2JpbGVUaGlzJyk7XG5cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVza3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQb3NpdGlvbihkZXNrdG9wLCBjb250YWluZXIsIHNjcmVlbkhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gYnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGRlc2t0b3Aub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIW1vYmlsZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gZGVza3RvcC5vZmZzZXRXaWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vYmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tQb3NpdGlvbihtb2JpbGUsIGNvbnRhaW5lciwgc2NyZWVuSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSBicmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gbW9iaWxlLm9mZnNldFdpZHRoICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tQb3NpdGlvbihzZWxlY3RvciwgY29udGFpbmVyLCBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAvL9C/0L7Qt9C40YbQuNC+0L3QuNGA0L7QstCw0L3QuNC1INC/0L7Qv9Cw0L/QsCDQv9C+INCy0LXRgNGC0LjQutCw0LvQuFxuXG4gICAgICAgICAgICAgICAgdmFyIGNvbnQgPSBzZWxlY3RvcixcbiAgICAgICAgICAgICAgICAgICAgY29udEhlaWdodCA9IGNvbnQub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRIZWlnaHQgPiBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLm1hcmdpbiA9ICc0MHB4IGF1dG8nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcCA9IChzY3JlZW5IZWlnaHQgLSBjb250SGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXJnaW4gPSB0b3AgKyAncHggYXV0byAyMHB4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dQb3B1cCgpIHtcbiAgICAgICAgICAgICAgICAvL9GE0YPQvdC60YbQuNGPINC00LvRjyDQv9C+0LrQsNC30LAg0L/QvtC/0LDQv9CwXG4gICAgICAgICAgICAgICAgdmFyIHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV2ZXItcG9wdXAnKTtcbiAgICAgICAgICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdzaG93JylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVBvcHVwKCkge1xuICAgICAgICAgICAgICAgIC8v0YTRg9C90LrRhtC40Y8g0LTQu9GPINGB0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsFxuICAgICAgICAgICAgICAgIHZhciBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ldmVyLXBvcHVwJyk7XG4gICAgICAgICAgICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG5vdEhpZGUoZSkge1xuICAgICAgICAgICAgICAgIC8v0YTRg9C90LrRhtC40Y8g0LTQu9GPINC/0YDQtdGA0YvQstCw0L3QuNGPINCy0YvQv9C+0LvQvdC10L3QuNGPINGB0YbQtdC90LDRgNC40Y8g0L/QviDQutC70LjQutGDXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja0NvZGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyDQv9GA0L7QstC10YDQutCwINC60L7QtNCwINC/0L7QtNC70LjQvdC90L7RgdGC0LhcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrX19maWVsZFwiKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja19fcmVzdWx0XCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvZGUubGVuZ3RoID09PSAxNSkge1xuICAgICAgICAgICAgICAgICAgICBtc2cuaW5uZXJIVE1MID0gJ9CU0LDQvdC90YvQuSDQutC+0LQg0LLQtdGA0LXQvS4g0KHQv9Cw0YHQuNCx0L4sINGH0YLQviDQstGL0LHRgNCw0LvQuCDQvdCw0YjRgyDQv9GA0L7QtNGD0LrRhtC40Y4hJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbXNnLmlubmVySFRNTCA9ICfQktCy0LXQtNC40YLQtSwg0L/QvtC20LDQu9GD0LnRgdGC0LAsINC60L7QtC4nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZy5pbm5lckhUTUwgPSAn0Jog0YHQvtC20LDQu9C10L3QuNGOLCDQtNCw0L3QvdGL0Lkg0LrQvtC0INC90LUg0L3QsNC50LTQtdC9ISDQktC10YDQvtGP0YLQvdC10LUg0LLRgdC10LPQviwg0LLRiyDQv9GA0LjQvtCx0YDQtdC70Lgg0L/QvtC00LTQtdC70YzQvdGL0Lkg0L/RgNC+0LTRg9C60YIuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBtb3VzZU91dENvdW50ID0gMDtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIC8v0YHQvtCx0YvRgtC40LUg0L3QsCDRg9Cy0L7QtCDQvNGL0YjQutC4INGB0L4g0YHRgtGA0LDQvdC40YbRiy4g0LXRgdC70Lgg0LzRi9GI0LrQsCDRg9GF0L7QtNC40YIg0LfQsCDQstC10YDRhdC90Y7RjiDQs9GA0LDQvdC40YbRgyDQtNC+0LrRg9C80LXQvdGC0LAsINCy0YvQt9GL0LLQsNC10YLRgdGPINC/0L7Qv9Cw0L9cbiAgICAgICAgICAgICAgICB2YXIgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgICAgICBlID0gZS5jbGllbnRZO1xuICAgICAgICAgICAgICAgIHZhciBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ldmVyLXBvcHVwJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9wdXAgJiYgZSA8IDEwICYmIG1vdXNlT3V0Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgICAgICAgICAgICAgICAgICBtb3VzZU91dENvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFBob25lQnRuKGJyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAvLyDQtNC+0LHQsNCy0LvQtdC90LjQtSDRgdC40L3QtdC5INGC0YDRg9Cx0LrQuCDQtNC70Y8g0LLRi9C30L7QstCwINC/0L7Qv9Cw0L/QsCDQvdCwINC00LXRgdC60YLQvtC/0LVcbiAgICAgICAgICAgICAgICB2YXIgcGhvbmVCdG5Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBwaG9uZUJ0bkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwaG9uZUJ0bkNvbnRhaW5lcicpO1xuICAgICAgICAgICAgICAgIHBob25lQnRuQ29udGFpbmVyLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiYmx1ZVBob25lXCI+PGRpdiBjbGFzcz1cIiBwaG9uZS1jYWxsIGNiaC1waG9uZSBjYmgtZ3JlZW4gY2JoLXNob3cgZXZlci1wb3B1cC1idG4gY2JoLXN0YXRpY1wiIGlkPVwiY2xiaF9waG9uZV9kaXZcIj48ZGl2IGNsYXNzPVwicGhvbmVKc1wiPjxkaXYgY2xhc3M9XCJjYmgtcGgtY2lyY2xlXCI+PC9kaXY+PGRpdiBjbGFzcz1cImNiaC1waC1jaXJjbGUtZmlsbFwiPjwvZGl2PjxkaXYgY2xhc3M9XCJjYmgtcGgtaW1nLWNpcmNsZTFcIj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGhvbmVCdG5Db250YWluZXIpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBob25lU3R5bGVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBwaG9uZVN0eWxlcy5pbm5lckhUTUwgPSAnLnBob25lQnRuQ29udGFpbmVye3Bvc2l0aW9uOmZpeGVkOyByaWdodDogMTBweDtib3R0b206IDEwcHg7IHZpc2liaWxpdHk6aGlkZGVuO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7d2lkdGg6MjAwcHg7aGVpZ2h0OjIwMHB4O2N1cnNvcjpwb2ludGVyO3otaW5kZXg6OTk7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApOy13ZWJraXQtdHJhbnNpdGlvbjp2aXNpYmlsaXR5IC41czstbW96LXRyYW5zaXRpb246dmlzaWJpbGl0eSAuNXM7LW8tdHJhbnNpdGlvbjp2aXNpYmlsaXR5IC41czt0cmFuc2l0aW9uOnZpc2liaWxpdHkgLjVzfS5jYmgtcGhvbmUuY2JoLXNob3d7dmlzaWJpbGl0eTp2aXNpYmxlfUAtd2Via2l0LWtleWZyYW1lcyBmYWRlSW5SaWdodHswJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCl9MTAwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX19QGtleWZyYW1lcyBmYWRlSW5SaWdodHswJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCl9MTAwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTstbXMtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUAtd2Via2l0LWtleWZyYW1lcyBmYWRlSW5SaWdodEJpZ3swJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMjAwMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDIwMDBweCwwLDApfTEwMCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fUAtd2Via2l0LWtleWZyYW1lcyBmYWRlT3V0UmlnaHR7MCV7b3BhY2l0eToxfTEwMCV7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwMCUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApfX1Aa2V5ZnJhbWVzIGZhZGVPdXRSaWdodHswJXtvcGFjaXR5OjF9MTAwJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTAwJSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMDAlLDAsMCl9fS5mYWRlT3V0UmlnaHR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmYWRlT3V0UmlnaHQ7YW5pbWF0aW9uLW5hbWU6ZmFkZU91dFJpZ2h0fS5jYmgtcGhvbmUuY2JoLXN0YXRpYzF7b3BhY2l0eTouNn0uY2JoLXBob25lLmNiaC1ob3ZlcjF7b3BhY2l0eToxfS5jYmgtcGgtY2lyY2xle3dpZHRoOjE2MHB4O2hlaWdodDoxNjBweDt0b3A6MjBweDtsZWZ0OjIwcHg7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDstd2Via2l0LWJvcmRlci1yYWRpdXM6MTAwJTstbW96LWJvcmRlci1yYWRpdXM6MTAwJTtib3JkZXItcmFkaXVzOjEwMCU7Ym9yZGVyOjJweCBzb2xpZCByZ2JhKDMwLDMwLDMwLC40KTtvcGFjaXR5Oi4xOy13ZWJraXQtYW5pbWF0aW9uOmNiaC1jaXJjbGUtYW5pbSAxLjJzIGluZmluaXRlIGVhc2UtaW4tb3V0Oy1tb3otYW5pbWF0aW9uOmNiaC1jaXJjbGUtYW5pbSAxLjJzIGluZmluaXRlIGVhc2UtaW4tb3V0Oy1tcy1hbmltYXRpb246Y2JoLWNpcmNsZS1hbmltIDEuMnMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7LW8tYW5pbWF0aW9uOmNiaC1jaXJjbGUtYW5pbSAxLjJzIGluZmluaXRlIGVhc2UtaW4tb3V0O2FuaW1hdGlvbjpjYmgtY2lyY2xlLWFuaW0gMS4ycyBpbmZpbml0ZSBlYXNlLWluLW91dDstd2Via2l0LXRyYW5zaXRpb246YWxsIC41czstbW96LXRyYW5zaXRpb246YWxsIC41czstby10cmFuc2l0aW9uOmFsbCAuNXM7dHJhbnNpdGlvbjphbGwgLjVzfS5jYmgtcGhvbmUuY2JoLWFjdGl2ZSAuY2JoLXBoLWNpcmNsZTF7LXdlYmtpdC1hbmltYXRpb246Y2JoLWNpcmNsZS1hbmltIDEuMXMgaW5maW5pdGUgZWFzZS1pbi1vdXQhaW1wb3J0YW50Oy1tb3otYW5pbWF0aW9uOmNiaC1jaXJjbGUtYW5pbSAxLjFzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDstbXMtYW5pbWF0aW9uOmNiaC1jaXJjbGUtYW5pbSAxLjFzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDstby1hbmltYXRpb246Y2JoLWNpcmNsZS1hbmltIDEuMXMgaW5maW5pdGUgZWFzZS1pbi1vdXQhaW1wb3J0YW50O2FuaW1hdGlvbjpjYmgtY2lyY2xlLWFuaW0gMS4xcyBpbmZpbml0ZSBlYXNlLWluLW91dCFpbXBvcnRhbnR9LmNiaC1waG9uZS5jYmgtc3RhdGljIC5jYmgtcGgtY2lyY2xley13ZWJraXQtYW5pbWF0aW9uOmNiaC1jaXJjbGUtYW5pbSAyLjJzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDstbW96LWFuaW1hdGlvbjpjYmgtY2lyY2xlLWFuaW0gMi4ycyBpbmZpbml0ZSBlYXNlLWluLW91dCFpbXBvcnRhbnQ7LW1zLWFuaW1hdGlvbjpjYmgtY2lyY2xlLWFuaW0gMi4ycyBpbmZpbml0ZSBlYXNlLWluLW91dCFpbXBvcnRhbnQ7LW8tYW5pbWF0aW9uOmNiaC1jaXJjbGUtYW5pbSAyLjJzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDthbmltYXRpb246Y2JoLWNpcmNsZS1hbmltIDIuMnMgaW5maW5pdGUgZWFzZS1pbi1vdXQhaW1wb3J0YW50fS5jYmgtcGhvbmUuY2JoLWhvdmVyIC5jYmgtcGgtY2lyY2xle2JvcmRlci1jb2xvcjpyZ2JhKDAsMTc1LDI0MiwxKTtvcGFjaXR5Oi41fS5jYmgtcGhvbmUuY2JoLWdyZWVuLmNiaC1ob3ZlciAuY2JoLXBoLWNpcmNsZXtib3JkZXItY29sb3I6cmdiYSgxMTcsMjM1LDgwLDEpO29wYWNpdHk6LjV9LmNiaC1waG9uZS5jYmgtZ3JlZW4gLmNiaC1waC1jaXJjbGV7Ym9yZGVyLWNvbG9yOnJnYmEoMCwxNzUsMjQyLDEpO29wYWNpdHk6LjV9LmNiaC1waG9uZS5jYmgtZ3JheS5jYmgtaG92ZXIgLmNiaC1waC1jaXJjbGV7Ym9yZGVyLWNvbG9yOnJnYmEoMjA0LDIwNCwyMDQsMSk7b3BhY2l0eTouNX0uY2JoLXBob25lLmNiaC1ncmF5IC5jYmgtcGgtY2lyY2xle2JvcmRlci1jb2xvcjpyZ2JhKDExNywyMzUsODAsMSk7b3BhY2l0eTouNX0uY2JoLXBoLWNpcmNsZS1maWxse3dpZHRoOjEwMHB4O2hlaWdodDoxMDBweDt0b3A6NTBweDtsZWZ0OjUwcHg7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjojMDAwOy13ZWJraXQtYm9yZGVyLXJhZGl1czoxMDAlOy1tb3otYm9yZGVyLXJhZGl1czoxMDAlO2JvcmRlci1yYWRpdXM6MTAwJTtib3JkZXI6MnB4IHNvbGlkIHRyYW5zcGFyZW50O29wYWNpdHk6LjE7LXdlYmtpdC1hbmltYXRpb246Y2JoLWNpcmNsZS1maWxsLWFuaW0gMi4zcyBpbmZpbml0ZSBlYXNlLWluLW91dDstbW96LWFuaW1hdGlvbjpjYmgtY2lyY2xlLWZpbGwtYW5pbSAyLjNzIGluZmluaXRlIGVhc2UtaW4tb3V0Oy1tcy1hbmltYXRpb246Y2JoLWNpcmNsZS1maWxsLWFuaW0gMi4zcyBpbmZpbml0ZSBlYXNlLWluLW91dDstby1hbmltYXRpb246Y2JoLWNpcmNsZS1maWxsLWFuaW0gMi4zcyBpbmZpbml0ZSBlYXNlLWluLW91dDthbmltYXRpb246Y2JoLWNpcmNsZS1maWxsLWFuaW0gMi4zcyBpbmZpbml0ZSBlYXNlLWluLW91dDstd2Via2l0LXRyYW5zaXRpb246YWxsIC41czstbW96LXRyYW5zaXRpb246YWxsIC41czstby10cmFuc2l0aW9uOmFsbCAuNXM7dHJhbnNpdGlvbjphbGwgLjVzfS5jYmgtcGhvbmUuY2JoLWFjdGl2ZSAuY2JoLXBoLWNpcmNsZS1maWxsey13ZWJraXQtYW5pbWF0aW9uOmNiaC1jaXJjbGUtZmlsbC1hbmltIDEuN3MgaW5maW5pdGUgZWFzZS1pbi1vdXQhaW1wb3J0YW50Oy1tb3otYW5pbWF0aW9uOmNiaC1jaXJjbGUtZmlsbC1hbmltIDEuN3MgaW5maW5pdGUgZWFzZS1pbi1vdXQhaW1wb3J0YW50Oy1tcy1hbmltYXRpb246Y2JoLWNpcmNsZS1maWxsLWFuaW0gMS43cyBpbmZpbml0ZSBlYXNlLWluLW91dCFpbXBvcnRhbnQ7LW8tYW5pbWF0aW9uOmNiaC1jaXJjbGUtZmlsbC1hbmltIDEuN3MgaW5maW5pdGUgZWFzZS1pbi1vdXQhaW1wb3J0YW50O2FuaW1hdGlvbjpjYmgtY2lyY2xlLWZpbGwtYW5pbSAxLjdzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudH0uY2JoLXBob25lLmNiaC1zdGF0aWMgLmNiaC1waC1jaXJjbGUtZmlsbHstd2Via2l0LWFuaW1hdGlvbjpjYmgtY2lyY2xlLWZpbGwtYW5pbSAyLjNzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDstbW96LWFuaW1hdGlvbjpjYmgtY2lyY2xlLWZpbGwtYW5pbSAyLjNzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDstbXMtYW5pbWF0aW9uOmNiaC1jaXJjbGUtZmlsbC1hbmltIDIuM3MgaW5maW5pdGUgZWFzZS1pbi1vdXQhaW1wb3J0YW50Oy1vLWFuaW1hdGlvbjpjYmgtY2lyY2xlLWZpbGwtYW5pbSAyLjNzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDthbmltYXRpb246Y2JoLWNpcmNsZS1maWxsLWFuaW0gMi4zcyBpbmZpbml0ZSBlYXNlLWluLW91dCFpbXBvcnRhbnQ7b3BhY2l0eTowIWltcG9ydGFudH0gLmNiaC1waG9uZS5jYmgtaG92ZXIgLmNiaC1waC1jaXJjbGUtZmlsbHtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwxNzUsMjQyLC41KTtvcGFjaXR5Oi43NSFpbXBvcnRhbnR9LmNiaC1waG9uZS5jYmgtZ3JlZW4uY2JoLWhvdmVyIC5jYmgtcGgtY2lyY2xlLWZpbGx7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDExNywyMzUsODAsLjUpO29wYWNpdHk6Ljc1IWltcG9ydGFudH0uY2JoLXBob25lLmNiaC1ncmVlbiAuY2JoLXBoLWNpcmNsZS1maWxse2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDE3NSwyNDIsLjUpO29wYWNpdHk6Ljc1IWltcG9ydGFudH0uY2JoLXBob25lLmNiaC1ncmF5LmNiaC1ob3ZlciAuY2JoLXBoLWNpcmNsZS1maWxse2JhY2tncm91bmQtY29sb3I6cmdiYSgyMDQsMjA0LDIwNCwuNSk7b3BhY2l0eTouNzUhaW1wb3J0YW50fS5jYmgtcGhvbmUuY2JoLWdyYXkgLmNiaC1waC1jaXJjbGUtZmlsbHtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMTE3LDIzNSw4MCwuNSk7b3BhY2l0eTouNzUhaW1wb3J0YW50fS5jYmgtcGgtaW1nLWNpcmNsZTF7d2lkdGg6NjBweDtoZWlnaHQ6NjBweDt0b3A6NzBweDtsZWZ0OjcwcHg7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFESUFBQUF5Q0FZQUFBQWVQNGl4QUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUJObWxEUTFCUWFHOTBiM05vYjNBZ1NVTkRJSEJ5YjJacGJHVUFBSGphclk2eFNzTlFGRURQaTZMaVVDc0VjWEI0a3lnb3R1cGd4cVF0UlJDczFTSEoxcVNoU21rU1hsN1Zmb1NqV3djWGQ3L0F5VkZ3VVB3Qy8wQng2dUFRSVlPRENKN3AzTVBsY3NHbzJIV25ZWlJoRUd2VmJqclM5WHc1KzhRTVV3RFFDYlBVYnJVT0FPSWtqdmpCNXlzQzRIblRyanNOL3NaOG1Db05USUR0YnBTRklDcEEvMEtuR3NRWU1JTitxa0hjQWFZNmFkZEFQQUNsWHU0dlFDbkkvUTBvS2RmelFYd0Facy8xZkREbUFEUElmUVV3ZFhTcEFXcEpPbEpudlZNdHE1WmxTYnViQkpFOEhtVTZHbVJ5UHc0VGxTYXFvNk11a1A4SHdHSysyRzQ2Y3ExcVdYdnIvRE91NTh2YzNvOFFnRmg2TEZwQk9GVG4zeXFNbmQvbjRzWjRHUTV2WVhwU3ROMHJ1Tm1BaGV1aXJWYWh2QVgzNHkvQXhrLzk2RnBQWWdBQUFDQmpTRkpOQUFCNkpRQUFnSU1BQVBuL0FBQ0E2QUFBVWdnQUFSVllBQUE2bHdBQUYyL1hXaCtRQUFBQi9FbEVRVlI0MnV5YTdXM0NNQkNHMzFRTTRBMWFOZ2dUbEc2UWJwQk1rSFlDMUFsb0o0Qk9BQnVFRGNnR3RCT0VUbkQ5YzFFUkNIL2x3eGVhVjhvUEZHUDg2SHkrRHhNUkVXNUJkN2dSalNEU05HbjQvUmlBT3ZtOEMwWkNSRDVQU2tRVlhTcjFuSy94RTNtY1dpbUExWlYzSllCWkNJTzRnaVFBTm9ZeE13WVM2K3hLWTRsVDVkSlByZVdaWSt1c3BxU0NLUFlOMjdHSlZCRFhoZVZTUWU0OTRrc2lFV1R1TVhjdTFkbGQ5U0FSeERYMU9BSjRsZ2p5NHpEbkZzQzA3NkE0YWRFaVJ3QVpnNGhPVVNwTm9Dc0JQREdNK0hxa05HeW5ZQkN1SUx1V2orZGdXeXNHc05lOG53TDRHc3JXMG0yZnhaQnE5clcwck5jWDVNT1E5ZVpEOEpGYWhjRzVnL2lLVDY3MWFsR0FZUWdncFlXdnBFUFlXclUvSERUT2ZlUklYMHEyU0wzUU40dEdoWkp1a1ZvYlF5WFlXdzdXdExES0RJdU0rWlN6c2N5Q0U5UEN5NUl0dEN2blpOYWVpR0xOSEt1ejhaVmgvTVhUVnUvMXhRS21JcUxFQXVKMGZObzNpRzVCNTFvU2tlS25zQmkvNGJHOWdZQi9sQ3l0VTVHOURyeUZXKzNHbStKTHdVN2VoYkpyd1RqcTRESlU4YkhjVmJFVjlkWFhxcVA2dXFPNWUyL1FaUllKcHF1MklVQUE0QjN0WHZ4OGhnS3AwNVFaVzZkSnFyTFROa0I2dnJSVVJMUndQSHF0WWdrQzNjTFdRQWNEUUdHS0gxM0ZFUi9OQVR6aTc4NitCUEROam0xZE1rZmpuMnBHa0JIa2Y0RDhEZ0JKRHVESHg5Qk4rZ0FBQUFCSlJVNUVya0pnZ2c9PSk7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDMwLDMwLDMwLC4xKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciBjZW50ZXI7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0Oy13ZWJraXQtYm9yZGVyLXJhZGl1czoxMDAlOy1tb3otYm9yZGVyLXJhZGl1czoxMDAlO2JvcmRlci1yYWRpdXM6MTAwJTtib3JkZXI6MnB4IHNvbGlkIHRyYW5zcGFyZW50O29wYWNpdHk6Ljc7LXdlYmtpdC1hbmltYXRpb246Y2JoLWNpcmNsZS1pbWctYW5pbSAxcyBpbmZpbml0ZSBlYXNlLWluLW91dDstbW96LWFuaW1hdGlvbjpjYmgtY2lyY2xlLWltZy1hbmltIDFzIGluZmluaXRlIGVhc2UtaW4tb3V0Oy1tcy1hbmltYXRpb246Y2JoLWNpcmNsZS1pbWctYW5pbSAxcyBpbmZpbml0ZSBlYXNlLWluLW91dDstby1hbmltYXRpb246Y2JoLWNpcmNsZS1pbWctYW5pbSAxcyBpbmZpbml0ZSBlYXNlLWluLW91dDthbmltYXRpb246Y2JoLWNpcmNsZS1pbWctYW5pbSAxcyBpbmZpbml0ZSBlYXNlLWluLW91dH0uY2JoLXBob25lLmNiaC1hY3RpdmUgLmNiaC1waC1pbWctY2lyY2xlMXstd2Via2l0LWFuaW1hdGlvbjpjYmgtY2lyY2xlLWltZy1hbmltIDFzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDstbW96LWFuaW1hdGlvbjpjYmgtY2lyY2xlLWltZy1hbmltIDFzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDstbXMtYW5pbWF0aW9uOmNiaC1jaXJjbGUtaW1nLWFuaW0gMXMgaW5maW5pdGUgZWFzZS1pbi1vdXQhaW1wb3J0YW50Oy1vLWFuaW1hdGlvbjpjYmgtY2lyY2xlLWltZy1hbmltIDFzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDthbmltYXRpb246Y2JoLWNpcmNsZS1pbWctYW5pbSAxcyBpbmZpbml0ZSBlYXNlLWluLW91dCFpbXBvcnRhbnR9LmNiaC1waG9uZS5jYmgtc3RhdGljIC5jYmgtcGgtaW1nLWNpcmNsZTF7LXdlYmtpdC1hbmltYXRpb246Y2JoLWNpcmNsZS1pbWctYW5pbSAwcyBpbmZpbml0ZSBlYXNlLWluLW91dCFpbXBvcnRhbnQ7LW1vei1hbmltYXRpb246Y2JoLWNpcmNsZS1pbWctYW5pbSAwcyBpbmZpbml0ZSBlYXNlLWluLW91dCFpbXBvcnRhbnQ7LW1zLWFuaW1hdGlvbjpjYmgtY2lyY2xlLWltZy1hbmltIDBzIGluZmluaXRlIGVhc2UtaW4tb3V0IWltcG9ydGFudDstby1hbmltYXRpb246Y2JoLWNpcmNsZS1pbWctYW5pbSAwcyBpbmZpbml0ZSBlYXNlLWluLW91dCFpbXBvcnRhbnQ7YW5pbWF0aW9uOmNiaC1jaXJjbGUtaW1nLWFuaW0gMHMgaW5maW5pdGUgZWFzZS1pbi1vdXQhaW1wb3J0YW50fS5jYmgtcGhvbmUuY2JoLWhvdmVyIC5jYmgtcGgtaW1nLWNpcmNsZTF7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMTc1LDI0MiwxKX0uY2JoLXBob25lLmNiaC1ncmVlbi5jYmgtaG92ZXIgLmNiaC1waC1pbWctY2lyY2xlMTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMTE3LDIzNSw4MCwxKX0uY2JoLXBob25lLmNiaC1ncmVlbiAuY2JoLXBoLWltZy1jaXJjbGUxe2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDE3NSwyNDIsMSl9LmNiaC1waG9uZS5jYmgtZ3JlZW4gLmNiaC1waC1pbWctY2lyY2xlMXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwxNzUsMjQyLDEpfS5jYmgtcGhvbmUuY2JoLWdyYXkuY2JoLWhvdmVyIC5jYmgtcGgtaW1nLWNpcmNsZTF7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDIwNCwyMDQsMjA0LDEpfS5jYmgtcGhvbmUuY2JoLWdyYXkgLmNiaC1waC1pbWctY2lyY2xlMXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMTE3LDIzNSw4MCwxKX1ALW1vei1rZXlmcmFtZXMgY2JoLWNpcmNsZS1hbmltezAley1tb3otdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgwLjUpIHNrZXcoMWRlZyk7b3BhY2l0eTouMTstbW96LW9wYWNpdHk6LjE7LXdlYmtpdC1vcGFjaXR5Oi4xOy1vLW9wYWNpdHk6LjF9MzAley1tb3otdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSguNykgc2tldygxZGVnKTtvcGFjaXR5Oi41Oy1tb3otb3BhY2l0eTouNTstd2Via2l0LW9wYWNpdHk6LjU7LW8tb3BhY2l0eTouNX0xMDAley1tb3otdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpO29wYWNpdHk6LjY7LW1vei1vcGFjaXR5Oi42Oy13ZWJraXQtb3BhY2l0eTouNjstby1vcGFjaXR5Oi4xfX1ALXdlYmtpdC1rZXlmcmFtZXMgY2JoLWNpcmNsZS1hbmltezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgwLjUpIHNrZXcoMWRlZyk7LXdlYmtpdC1vcGFjaXR5Oi4xfTMwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoLjcpIHNrZXcoMWRlZyk7LXdlYmtpdC1vcGFjaXR5Oi41fTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpIHNjYWxlKDEpIHNrZXcoMWRlZyk7LXdlYmtpdC1vcGFjaXR5Oi4xfX1ALW8ta2V5ZnJhbWVzIGNiaC1jaXJjbGUtYW5pbXswJXstby10cmFuc2Zvcm06cm90YXRlKDBkZWcpIGtzY2FsZSgwLjUpIHNrZXcoMWRlZyk7LW8tb3BhY2l0eTouMX0zMCV7LW8tdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSguNykgc2tldygxZGVnKTstby1vcGFjaXR5Oi41fTEwMCV7LW8tdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpOy1vLW9wYWNpdHk6LjF9fUBrZXlmcmFtZXMgY2JoLWNpcmNsZS1hbmltezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMC41KSBza2V3KDFkZWcpO29wYWNpdHk6LjF9MzAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoLjcpIHNrZXcoMWRlZyk7b3BhY2l0eTouNX0xMDAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMSkgc2tldygxZGVnKTtvcGFjaXR5Oi4xfX1ALW1vei1rZXlmcmFtZXMgY2JoLWNpcmNsZS1maWxsLWFuaW17MCV7LW1vei10cmFuc2Zvcm06cm90YXRlKDBkZWcpIHNjYWxlKDAuNykgc2tldygxZGVnKTtvcGFjaXR5Oi4yfTUwJXstbW96LXRyYW5zZm9ybTpyb3RhdGUoMGRlZykgLW1vei1zY2FsZSgxKSBza2V3KDFkZWcpO29wYWNpdHk6LjJ9MTAwJXstbW96LXRyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMC43KSBza2V3KDFkZWcpO29wYWNpdHk6LjJ9fUAtd2Via2l0LWtleWZyYW1lcyBjYmgtY2lyY2xlLWZpbGwtYW5pbXswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMC43KSBza2V3KDFkZWcpO29wYWNpdHk6LjJ9NTAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpO29wYWNpdHk6LjJ9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMC43KSBza2V3KDFkZWcpO29wYWNpdHk6LjJ9fUAtby1rZXlmcmFtZXMgY2JoLWNpcmNsZS1maWxsLWFuaW17MCV7LW8tdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgwLjcpIHNrZXcoMWRlZyk7b3BhY2l0eTouMn01MCV7LW8tdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpO29wYWNpdHk6LjJ9MTAwJXstby10cmFuc2Zvcm06cm90YXRlKDBkZWcpIHNjYWxlKDAuNykgc2tldygxZGVnKTtvcGFjaXR5Oi4yfX1Aa2V5ZnJhbWVzIGNiaC1jaXJjbGUtZmlsbC1hbmltezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMC43KSBza2V3KDFkZWcpO29wYWNpdHk6LjJ9NTAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMSkgc2tldygxZGVnKTtvcGFjaXR5Oi4yfTEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgwLjcpIHNrZXcoMWRlZyk7b3BhY2l0eTouMn19QGtleWZyYW1lcyBjYmgtY2lyY2xlLWltZy1hbmltezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMSkgc2tldygxZGVnKX0xMCV7dHJhbnNmb3JtOnJvdGF0ZSgtMjVkZWcpIHNjYWxlKDEpIHNrZXcoMWRlZyl9MjAle3RyYW5zZm9ybTpyb3RhdGUoMjVkZWcpIHNjYWxlKDEpIHNrZXcoMWRlZyl9MzAle3RyYW5zZm9ybTpyb3RhdGUoLTI1ZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpfTQwJXt0cmFuc2Zvcm06cm90YXRlKDI1ZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpfTEwMCUsNTAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMSkgc2tldygxZGVnKX19QC1tb3ota2V5ZnJhbWVzIGNiaC1jaXJjbGUtaW1nLWFuaW17MCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpfTEwJXstbW96LXRyYW5zZm9ybTpyb3RhdGUoLTI1ZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpfTIwJXstbW96LXRyYW5zZm9ybTpyb3RhdGUoMjVkZWcpIHNjYWxlKDEpIHNrZXcoMWRlZyl9MzAley1tb3otdHJhbnNmb3JtOnJvdGF0ZSgtMjVkZWcpIHNjYWxlKDEpIHNrZXcoMWRlZyl9NDAley1tb3otdHJhbnNmb3JtOnJvdGF0ZSgyNWRlZykgc2NhbGUoMSkgc2tldygxZGVnKX0xMDAlLDUwJXstbW96LXRyYW5zZm9ybTpyb3RhdGUoMGRlZykgc2NhbGUoMSkgc2tldygxZGVnKX19QC13ZWJraXQta2V5ZnJhbWVzIGNiaC1jaXJjbGUtaW1nLWFuaW17MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpIHNjYWxlKDEpIHNrZXcoMWRlZyl9MTAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtMjVkZWcpIHNjYWxlKDEpIHNrZXcoMWRlZyl9MjAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgyNWRlZykgc2NhbGUoMSkgc2tldygxZGVnKX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC0yNWRlZykgc2NhbGUoMSkgc2tldygxZGVnKX00MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDI1ZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpfTEwMCUsNTAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpfX1ALW8ta2V5ZnJhbWVzIGNiaC1jaXJjbGUtaW1nLWFuaW17MCV7LW8tdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpfTEwJXstby10cmFuc2Zvcm06cm90YXRlKC0yNWRlZykgc2NhbGUoMSkgc2tldygxZGVnKX0yMCV7LW8tdHJhbnNmb3JtOnJvdGF0ZSgyNWRlZykgc2NhbGUoMSkgc2tldygxZGVnKX0zMCV7LW8tdHJhbnNmb3JtOnJvdGF0ZSgtMjVkZWcpIHNjYWxlKDEpIHNrZXcoMWRlZyl9NDAley1vLXRyYW5zZm9ybTpyb3RhdGUoMjVkZWcpIHNjYWxlKDEpIHNrZXcoMWRlZyl9MTAwJSw1MCV7LW8tdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKSBzY2FsZSgxKSBza2V3KDFkZWcpfX0uY2JoLXBoLWltZy1jaXJjbGUxIHt9LmNiaC1waG9uZS5jYmgtZ3JlZW4gLmNiaC1waC1jaXJjbGUge2JvcmRlci1jb2xvcjogcmdiYSgwLCAxNzUsIDI0MiwgMSl9LmNiaC1waG9uZS5jYmgtZ3JlZW4gLmNiaC1waC1jaXJjbGUtZmlsbCB7YmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAxNzUsIDI0MiwgMSk7fS5jYmgtcGhvbmUuY2JoLWdyZWVuIC5jYmgtcGgtaW1nLWNpcmNsZTEge2JhY2tncm91bmQtY29sb3I6cmdiYSgwLCAxNzUsIDI0MiwgMSk7fWJvZHksIGRpdiwgZGwsIGR0LCBkZCwgdWwsIG9sLCBsaSwgbmF2LCBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBwcmUsIGNvZGUsIGZvcm0sIGZpZWxkc2V0LCBsZWdlbmQsIGlucHV0LCBidXR0b24sIHRleHRhcmVhLCBwLCBibG9ja3F1b3RlLCB0aCwgdGQsIGEgey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyIGNlbnRlcjstbXMtdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyIGNlbnRlcjstby10cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgY2VudGVyO3RyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBjZW50ZXI7fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6ICcgKyBicmVha3BvaW50ICsgJ3B4KSB7I2NsYmhfcGhvbmVfZGl2e2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9fSc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpLmFwcGVuZENoaWxkKHBob25lU3R5bGVzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRlc2t0b3BQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbG9uZVRoaXMnKSxcbiAgICAgICAgICAgICAgICAgICAgbW9iaWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvbmVNb2JpbGVUaGlzJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob3VycycpLFxuICAgICAgICAgICAgICAgICAgICBtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1pbnV0ZXMnKSxcbiAgICAgICAgICAgICAgICAgICAgcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWNvbmRzJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaCAmJiBtICYmIHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g0LXRgdC70Lgg0LLRgdC1INC30L3QsNGH0LXQvdC40Y8gKNGH0LDRgdGLL9C80LjQvdGD0YLRiy/RgdC10LrRg9C90LTRiykg0YHRg9GJ0LXRgdCy0YLRg9GO0YIsINGC0L7Qs9C00LAg0YHRgNCw0LHQsNGC0YvQstCw0LXRgiDRgtCw0LnQvNC10YBcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVRpbWVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkZXNrdG9wUG9wdXApIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRQb3B1cFN0eWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBob25lQnRuKGJyZWFrcG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGhvbmVCdG5Db250YWluZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dQb3B1cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVPdmVybGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZE1vYmlsZVBvcHVwU3R5bGUoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVza3RvcFBvcHVwIHx8IG1vYmlsZVBvcHVwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8v0LXRgdC70Lgg0YMg0L3QsNGBINC10YHRgtGMICNjbG9uZVRoaXMg0LjQu9C4ICNjbG9uZU1vYmlsZVRoaXMsINGC0L7Qs9C00LAg0LLRgdC1INGE0YPQvdC60YbQuNC4INC90LjQttC1INCy0YvQv9C+0LvQvdGP0Y7RgtGB0Y9cblxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVNb2RhbEJvZHkoYnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsUG9zaXRpb24od2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV2ZXItcG9wdXBfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlUG9wdXApO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXZlci1wb3B1cF9faW5uZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5vdEhpZGUpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXZlci1wb3B1cCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZVBvcHVwKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXZlci1wb3B1cC1idG4nKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb2RhbEJ0bi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxCdG4gJiYgbW9kYWxCdG5baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UG9wdXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vINGA0LDQsdC+0LDRgtC10YIg0LXRgdC70Lgg0YMg0L3QsNGBINC10YHRgtGMINC60LvQsNGB0YEgLmNoZWNrX19idG5cbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrX19idG5cIik7XG4gICAgICAgICAgICAgICAgY2hlY2tCdG4gJiYgY2hlY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja0NvZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDQv9GA0Lgg0LTQvtC60YPQvNC10L3RgiDRgNC10LTQuCDQstGL0LfRi9Cy0LDQtdGC0YHRjyDRhNGD0L3QutGG0LjRjyBpbml0LCDQvtC/0LjRgdCw0L3QsNGPINCy0YvRiNC1XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdCk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy/Qv9GA0Lgg0YDQtdGB0LDQudC30LUg0L/QtdGA0LXRgdGH0LjRgtGL0LLQsNC10Lwg0L/QvtC30LjRhtC40L7QvdC40YDQvtCy0LDQvdC40LUg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcbiAgICAgICAgICAgICAgICBtb2RhbFBvc2l0aW9uKHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVRpbWVyKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImV2ZXItdGltZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyczogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZXM6IDI3LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kczogMFxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRpbWUgPSB0aW1lLmhvdXJzICogMzYwMCArIHRpbWUubWludXRlcyAqIDYwICsgdGltZS5zZWNvbmRzO1xuXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGltZVwiLCB0aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJldmVyLXRpbWVyXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRpbWVyU2V0dGluZ3MoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiB0aW1lclNldHRpbmdzKCkge1xuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RpbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgZGlmZmVyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aW1lci1kaWZmZXJlbnRcIiksXG4gICAgICAgICAgICAgICAgICAgIGhvdXJzID0gcGFyc2VJbnQodGltZSAvIDM2MDAsIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IHBhcnNlSW50KCh0aW1lIC0gaG91cnMgKiAzNjAwICkgLyA2MCwgMTApLFxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRzID0gcGFyc2VJbnQodGltZSAlIDYwLCAxMCk7XG5cbiAgICAgICAgICAgICAgICBtaW51dGVzID0gbWludXRlcyA8IDEwID8gXCIwXCIgKyBtaW51dGVzIDogXCJcIiArIG1pbnV0ZXM7XG4gICAgICAgICAgICAgICAgc2Vjb25kcyA9IHNlY29uZHMgPCAxMCA/IFwiMFwiICsgc2Vjb25kcyA6IFwiXCIgKyBzZWNvbmRzO1xuICAgICAgICAgICAgICAgIGhvdXJzID0gaG91cnMgPCAxMCA/IFwiMFwiICsgaG91cnMgOiBcIlwiICsgaG91cnM7XG5cbiAgICAgICAgICAgICAgICB2YXIgaG91cnNIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImhvdXJzXCIpO1xuICAgICAgICAgICAgICAgIHZhciBtaW51dGVzSFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtaW51dGVzXCIpO1xuICAgICAgICAgICAgICAgIHZhciBzZWNvbmRzSFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzZWNvbmRzXCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKC0tdGltZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJldmVyLXRpbWVyXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHNlY29uZHMuc3BsaXQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBtaW51dGVzLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBob3VycyA9IGhvdXJzLnNwbGl0KFwiXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpRmlsbGluZyhob3Vyc0hUTUwsIGhvdXJzKTtcbiAgICAgICAgICAgICAgICAgICAgZGlGaWxsaW5nKG1pbnV0ZXNIVE1MLCBtaW51dGVzKTtcbiAgICAgICAgICAgICAgICAgICAgZGlGaWxsaW5nKHNlY29uZHNIVE1MLCBzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmaWxsaW5nKGhvdXJzSFRNTCwgaG91cnMpO1xuICAgICAgICAgICAgICAgICAgICBmaWxsaW5nKG1pbnV0ZXNIVE1MLCBtaW51dGVzKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsbGluZyhzZWNvbmRzSFRNTCwgc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0aW1lXCIsIHRpbWUpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGltZXJTZXR0aW5ncywgMTAwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbGxpbmcob2JqLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtpXS5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGRpRmlsbGluZyhvYmosIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2ldLmlubmVySFRNTCA9IHZhbHVlW2kgJSAyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpbml0aWF0ZSgpO1xuXG4gICAgfSkoKTtcbn1cblxuIl0sImZpbGUiOiJsaWJzL2V2ZXJhZC5qcyJ9
